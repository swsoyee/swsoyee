---
title: "Visualize CRAN Package Downloads"
date: "2021-03-06"
categories: [English]
slug: cran-download-visualization
output:
  blogdown::html_page:
    toc: true
tags: [r,echarts]
summary: 'A simple example of how to visualiza R package downloads hosted on CRAN using `{cranlogs}` and `{echarts4r}`'
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/echarts4r/echarts-en.min.js"></script>
<script src="/rmarkdown-libs/echarts4r/ecStat.min.js"></script>
<script src="/rmarkdown-libs/echarts4r/dataTool.min.js"></script>
<script src="/rmarkdown-libs/echarts4r-binding/echarts4r.js"></script>


<pre class="r"><code>library(cranlogs)
library(echarts4r)

# My packages released on CRAN
packages &lt;- c(&quot;r3dmol&quot;, &quot;pagemap&quot;)

# Fetch data from CRAN
data &lt;- cran_downloads(packages = packages, from = &quot;2020-09-01&quot;)

# Total downloads
summary &lt;- aggregate(data$count, by = list(Package = data$package), FUN = sum)

# Visualize
data %&gt;%
  group_by(package) %&gt;%
  e_chart(date) %&gt;%
  e_line(
    serie = count,
    symbol = &quot;circle&quot;,
    symbolSize = 1,
    smooth = TRUE,
    emphasis = list(focus = &quot;series&quot;)
  ) %&gt;%
  e_y_axis(name = &quot;downloads&quot;) %&gt;%
  e_mark_line(data = list(
    type = &quot;average&quot;,
    name = &quot;AVG&quot;
  ), symbolSize = 0) %&gt;%
  e_tooltip(trigger = &quot;axis&quot;) %&gt;%
  e_legend(top = &quot;22%&quot;) %&gt;%
  e_grid(bottom = &quot;10%&quot;, right = &quot;5%&quot;, top = &quot;20%&quot;) %&gt;%
  e_title(
    text = &quot;Package Download Stats&quot;,
    subtext = paste(
      paste(summary$Package, summary$x, sep = &quot;: &quot;),
      collapse = &quot;, &quot;
    )
  )</code></pre>
<div id="htmlwidget-1" style="width:100%;height:500px;" class="echarts4r html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"theme":"","tl":false,"draw":true,"renderer":"canvas","events":[],"buttons":[],"opts":{"yAxis":[{"show":true,"name":"downloads"}],"xAxis":[{"data":["2020-09-01","2020-09-02","2020-09-03","2020-09-04","2020-09-05","2020-09-06","2020-09-07","2020-09-08","2020-09-09","2020-09-10","2020-09-11","2020-09-12","2020-09-13","2020-09-14","2020-09-15","2020-09-16","2020-09-17","2020-09-18","2020-09-19","2020-09-20","2020-09-21","2020-09-22","2020-09-23","2020-09-24","2020-09-25","2020-09-26","2020-09-27","2020-09-28","2020-09-29","2020-09-30","2020-10-01","2020-10-02","2020-10-03","2020-10-04","2020-10-05","2020-10-06","2020-10-07","2020-10-08","2020-10-09","2020-10-10","2020-10-11","2020-10-12","2020-10-13","2020-10-14","2020-10-15","2020-10-16","2020-10-17","2020-10-18","2020-10-19","2020-10-20","2020-10-21","2020-10-22","2020-10-23","2020-10-24","2020-10-25","2020-10-26","2020-10-27","2020-10-28","2020-10-29","2020-10-30","2020-10-31","2020-11-01","2020-11-02","2020-11-03","2020-11-04","2020-11-05","2020-11-06","2020-11-07","2020-11-08","2020-11-09","2020-11-10","2020-11-11","2020-11-12","2020-11-13","2020-11-14","2020-11-15","2020-11-16","2020-11-17","2020-11-18","2020-11-19","2020-11-20","2020-11-21","2020-11-22","2020-11-23","2020-11-24","2020-11-25","2020-11-26","2020-11-27","2020-11-28","2020-11-29","2020-11-30","2020-12-01","2020-12-02","2020-12-03","2020-12-04","2020-12-05","2020-12-06","2020-12-07","2020-12-08","2020-12-09","2020-12-10","2020-12-11","2020-12-12","2020-12-13","2020-12-14","2020-12-15","2020-12-16","2020-12-17","2020-12-18","2020-12-19","2020-12-20","2020-12-21","2020-12-22","2020-12-23","2020-12-24","2020-12-25","2020-12-26","2020-12-27","2020-12-28","2020-12-29","2020-12-30","2020-12-31","2021-01-01","2021-01-02","2021-01-03","2021-01-04","2021-01-05","2021-01-06","2021-01-07","2021-01-08","2021-01-09","2021-01-10","2021-01-11","2021-01-12","2021-01-13","2021-01-14","2021-01-15","2021-01-16","2021-01-17","2021-01-18","2021-01-19","2021-01-20","2021-01-21","2021-01-22","2021-01-23","2021-01-24","2021-01-25","2021-01-26","2021-01-27","2021-01-28","2021-01-29","2021-01-30","2021-01-31","2021-02-01","2021-02-02","2021-02-03","2021-02-04","2021-02-05","2021-02-06","2021-02-07","2021-02-08","2021-02-09","2021-02-10","2021-02-11","2021-02-12","2021-02-13","2021-02-14","2021-02-15","2021-02-16","2021-02-17","2021-02-18","2021-02-19","2021-02-20","2021-02-21","2021-02-22","2021-02-23","2021-02-24","2021-02-25","2021-02-26","2021-02-27","2021-02-28","2021-03-01","2021-03-02","2021-03-03","2021-03-04","2021-03-05","2021-03-06"],"type":"time","boundaryGap":true}],"legend":{"data":["pagemap","r3dmol"],"show":true,"type":"plain","top":"22%"},"series":[{"data":[{"value":["2020-09-01"," 0"]},{"value":["2020-09-02"," 0"]},{"value":["2020-09-03"," 0"]},{"value":["2020-09-04"," 6"]},{"value":["2020-09-05","17"]},{"value":["2020-09-06","17"]},{"value":["2020-09-07","27"]},{"value":["2020-09-08","58"]},{"value":["2020-09-09","35"]},{"value":["2020-09-10","16"]},{"value":["2020-09-11","40"]},{"value":["2020-09-12","45"]},{"value":["2020-09-13","27"]},{"value":["2020-09-14","42"]},{"value":["2020-09-15","31"]},{"value":["2020-09-16","21"]},{"value":["2020-09-17","34"]},{"value":["2020-09-18","22"]},{"value":["2020-09-19","14"]},{"value":["2020-09-20","12"]},{"value":["2020-09-21","15"]},{"value":["2020-09-22","16"]},{"value":["2020-09-23","23"]},{"value":["2020-09-24"," 8"]},{"value":["2020-09-25"," 8"]},{"value":["2020-09-26","15"]},{"value":["2020-09-27"," 9"]},{"value":["2020-09-28","22"]},{"value":["2020-09-29","16"]},{"value":["2020-09-30","15"]},{"value":["2020-10-01","16"]},{"value":["2020-10-02","12"]},{"value":["2020-10-03","14"]},{"value":["2020-10-04","14"]},{"value":["2020-10-05","10"]},{"value":["2020-10-06","11"]},{"value":["2020-10-07","11"]},{"value":["2020-10-08"," 9"]},{"value":["2020-10-09","17"]},{"value":["2020-10-10","11"]},{"value":["2020-10-11"," 9"]},{"value":["2020-10-12"," 9"]},{"value":["2020-10-13","13"]},{"value":["2020-10-14","19"]},{"value":["2020-10-15"," 7"]},{"value":["2020-10-16","11"]},{"value":["2020-10-17"," 2"]},{"value":["2020-10-18"," 7"]},{"value":["2020-10-19","15"]},{"value":["2020-10-20","10"]},{"value":["2020-10-21","14"]},{"value":["2020-10-22","13"]},{"value":["2020-10-23","16"]},{"value":["2020-10-24","13"]},{"value":["2020-10-25","10"]},{"value":["2020-10-26","11"]},{"value":["2020-10-27","11"]},{"value":["2020-10-28","12"]},{"value":["2020-10-29","21"]},{"value":["2020-10-30","13"]},{"value":["2020-10-31"," 9"]},{"value":["2020-11-01"," 8"]},{"value":["2020-11-02"," 9"]},{"value":["2020-11-03","16"]},{"value":["2020-11-04"," 7"]},{"value":["2020-11-05","20"]},{"value":["2020-11-06","14"]},{"value":["2020-11-07","15"]},{"value":["2020-11-08","10"]},{"value":["2020-11-09","17"]},{"value":["2020-11-10","12"]},{"value":["2020-11-11","20"]},{"value":["2020-11-12","14"]},{"value":["2020-11-13","10"]},{"value":["2020-11-14"," 6"]},{"value":["2020-11-15","10"]},{"value":["2020-11-16","10"]},{"value":["2020-11-17","15"]},{"value":["2020-11-18","19"]},{"value":["2020-11-19","11"]},{"value":["2020-11-20"," 9"]},{"value":["2020-11-21"," 8"]},{"value":["2020-11-22"," 7"]},{"value":["2020-11-23"," 7"]},{"value":["2020-11-24","15"]},{"value":["2020-11-25","12"]},{"value":["2020-11-26"," 5"]},{"value":["2020-11-27","10"]},{"value":["2020-11-28","10"]},{"value":["2020-11-29"," 7"]},{"value":["2020-11-30","14"]},{"value":["2020-12-01","15"]},{"value":["2020-12-02","15"]},{"value":["2020-12-03","11"]},{"value":["2020-12-04","16"]},{"value":["2020-12-05"," 9"]},{"value":["2020-12-06"," 8"]},{"value":["2020-12-07"," 9"]},{"value":["2020-12-08"," 3"]},{"value":["2020-12-09","16"]},{"value":["2020-12-10","12"]},{"value":["2020-12-11","11"]},{"value":["2020-12-12"," 9"]},{"value":["2020-12-13","12"]},{"value":["2020-12-14"," 9"]},{"value":["2020-12-15"," 9"]},{"value":["2020-12-16"," 7"]},{"value":["2020-12-17","12"]},{"value":["2020-12-18"," 9"]},{"value":["2020-12-19","10"]},{"value":["2020-12-20"," 9"]},{"value":["2020-12-21"," 8"]},{"value":["2020-12-22","13"]},{"value":["2020-12-23","13"]},{"value":["2020-12-24"," 8"]},{"value":["2020-12-25"," 8"]},{"value":["2020-12-26"," 7"]},{"value":["2020-12-27"," 6"]},{"value":["2020-12-28","14"]},{"value":["2020-12-29"," 8"]},{"value":["2020-12-30","15"]},{"value":["2020-12-31"," 8"]},{"value":["2021-01-01"," 7"]},{"value":["2021-01-02"," 9"]},{"value":["2021-01-03"," 8"]},{"value":["2021-01-04"," 8"]},{"value":["2021-01-05"," 8"]},{"value":["2021-01-06","12"]},{"value":["2021-01-07"," 9"]},{"value":["2021-01-08"," 8"]},{"value":["2021-01-09"," 7"]},{"value":["2021-01-10","11"]},{"value":["2021-01-11","10"]},{"value":["2021-01-12","13"]},{"value":["2021-01-13","12"]},{"value":["2021-01-14","14"]},{"value":["2021-01-15"," 8"]},{"value":["2021-01-16"," 6"]},{"value":["2021-01-17"," 9"]},{"value":["2021-01-18"," 9"]},{"value":["2021-01-19"," 6"]},{"value":["2021-01-20","11"]},{"value":["2021-01-21"," 8"]},{"value":["2021-01-22"," 3"]},{"value":["2021-01-23"," 9"]},{"value":["2021-01-24"," 7"]},{"value":["2021-01-25","16"]},{"value":["2021-01-26"," 9"]},{"value":["2021-01-27","16"]},{"value":["2021-01-28"," 4"]},{"value":["2021-01-29","10"]},{"value":["2021-01-30"," 8"]},{"value":["2021-01-31"," 9"]},{"value":["2021-02-01","11"]},{"value":["2021-02-02","10"]},{"value":["2021-02-03"," 9"]},{"value":["2021-02-04","11"]},{"value":["2021-02-05"," 7"]},{"value":["2021-02-06","12"]},{"value":["2021-02-07","12"]},{"value":["2021-02-08","12"]},{"value":["2021-02-09","11"]},{"value":["2021-02-10","12"]},{"value":["2021-02-11","13"]},{"value":["2021-02-12","13"]},{"value":["2021-02-13","12"]},{"value":["2021-02-14"," 9"]},{"value":["2021-02-15","10"]},{"value":["2021-02-16","10"]},{"value":["2021-02-17","14"]},{"value":["2021-02-18","14"]},{"value":["2021-02-19","15"]},{"value":["2021-02-20","11"]},{"value":["2021-02-21","14"]},{"value":["2021-02-22","22"]},{"value":["2021-02-23"," 8"]},{"value":["2021-02-24","22"]},{"value":["2021-02-25","16"]},{"value":["2021-02-26","19"]},{"value":["2021-02-27","13"]},{"value":["2021-02-28"," 9"]},{"value":["2021-03-01","14"]},{"value":["2021-03-02","16"]},{"value":["2021-03-03"," 0"]},{"value":["2021-03-04"," 0"]},{"value":["2021-03-05"," 0"]},{"value":["2021-03-06"," 0"]}],"yAxisIndex":0,"xAxisIndex":0,"name":"pagemap","type":"line","coordinateSystem":"cartesian2d","symbol":"circle","symbolSize":1,"smooth":true,"emphasis":{"focus":"series"},"markLine":{"symbolSize":0,"data":[{"type":"average","name":"AVG"}]}},{"data":[{"value":["2020-09-01"," 0"]},{"value":["2020-09-02"," 0"]},{"value":["2020-09-03"," 0"]},{"value":["2020-09-04"," 0"]},{"value":["2020-09-05"," 0"]},{"value":["2020-09-06"," 0"]},{"value":["2020-09-07"," 0"]},{"value":["2020-09-08"," 0"]},{"value":["2020-09-09"," 0"]},{"value":["2020-09-10"," 0"]},{"value":["2020-09-11"," 0"]},{"value":["2020-09-12"," 0"]},{"value":["2020-09-13"," 0"]},{"value":["2020-09-14"," 0"]},{"value":["2020-09-15"," 0"]},{"value":["2020-09-16"," 0"]},{"value":["2020-09-17"," 0"]},{"value":["2020-09-18"," 0"]},{"value":["2020-09-19"," 0"]},{"value":["2020-09-20"," 0"]},{"value":["2020-09-21"," 0"]},{"value":["2020-09-22"," 0"]},{"value":["2020-09-23"," 0"]},{"value":["2020-09-24"," 0"]},{"value":["2020-09-25"," 0"]},{"value":["2020-09-26"," 0"]},{"value":["2020-09-27"," 0"]},{"value":["2020-09-28"," 0"]},{"value":["2020-09-29"," 0"]},{"value":["2020-09-30"," 0"]},{"value":["2020-10-01"," 0"]},{"value":["2020-10-02"," 0"]},{"value":["2020-10-03"," 0"]},{"value":["2020-10-04"," 0"]},{"value":["2020-10-05"," 0"]},{"value":["2020-10-06"," 0"]},{"value":["2020-10-07"," 0"]},{"value":["2020-10-08"," 0"]},{"value":["2020-10-09"," 0"]},{"value":["2020-10-10"," 0"]},{"value":["2020-10-11"," 0"]},{"value":["2020-10-12"," 0"]},{"value":["2020-10-13"," 0"]},{"value":["2020-10-14"," 0"]},{"value":["2020-10-15"," 0"]},{"value":["2020-10-16"," 0"]},{"value":["2020-10-17"," 0"]},{"value":["2020-10-18"," 0"]},{"value":["2020-10-19"," 0"]},{"value":["2020-10-20"," 0"]},{"value":["2020-10-21"," 0"]},{"value":["2020-10-22"," 0"]},{"value":["2020-10-23"," 0"]},{"value":["2020-10-24"," 0"]},{"value":["2020-10-25"," 0"]},{"value":["2020-10-26"," 8"]},{"value":["2020-10-27","10"]},{"value":["2020-10-28","26"]},{"value":["2020-10-29","36"]},{"value":["2020-10-30","23"]},{"value":["2020-10-31","13"]},{"value":["2020-11-01","21"]},{"value":["2020-11-02","11"]},{"value":["2020-11-03","29"]},{"value":["2020-11-04"," 8"]},{"value":["2020-11-05","26"]},{"value":["2020-11-06","20"]},{"value":["2020-11-07","17"]},{"value":["2020-11-08","14"]},{"value":["2020-11-09","20"]},{"value":["2020-11-10","16"]},{"value":["2020-11-11","23"]},{"value":["2020-11-12","16"]},{"value":["2020-11-13","14"]},{"value":["2020-11-14","10"]},{"value":["2020-11-15","10"]},{"value":["2020-11-16","11"]},{"value":["2020-11-17","17"]},{"value":["2020-11-18","15"]},{"value":["2020-11-19","13"]},{"value":["2020-11-20","12"]},{"value":["2020-11-21"," 8"]},{"value":["2020-11-22"," 7"]},{"value":["2020-11-23"," 6"]},{"value":["2020-11-24","15"]},{"value":["2020-11-25","13"]},{"value":["2020-11-26"," 4"]},{"value":["2020-11-27"," 8"]},{"value":["2020-11-28","10"]},{"value":["2020-11-29"," 9"]},{"value":["2020-11-30","15"]},{"value":["2020-12-01","12"]},{"value":["2020-12-02","16"]},{"value":["2020-12-03","15"]},{"value":["2020-12-04","13"]},{"value":["2020-12-05"," 9"]},{"value":["2020-12-06","10"]},{"value":["2020-12-07","11"]},{"value":["2020-12-08"," 3"]},{"value":["2020-12-09","17"]},{"value":["2020-12-10","15"]},{"value":["2020-12-11","13"]},{"value":["2020-12-12","11"]},{"value":["2020-12-13","14"]},{"value":["2020-12-14","12"]},{"value":["2020-12-15","10"]},{"value":["2020-12-16"," 7"]},{"value":["2020-12-17","14"]},{"value":["2020-12-18"," 9"]},{"value":["2020-12-19"," 8"]},{"value":["2020-12-20","11"]},{"value":["2020-12-21"," 9"]},{"value":["2020-12-22","11"]},{"value":["2020-12-23","10"]},{"value":["2020-12-24"," 9"]},{"value":["2020-12-25","10"]},{"value":["2020-12-26"," 8"]},{"value":["2020-12-27"," 7"]},{"value":["2020-12-28","15"]},{"value":["2020-12-29"," 9"]},{"value":["2020-12-30","12"]},{"value":["2020-12-31"," 8"]},{"value":["2021-01-01"," 7"]},{"value":["2021-01-02","10"]},{"value":["2021-01-03"," 8"]},{"value":["2021-01-04","10"]},{"value":["2021-01-05"," 8"]},{"value":["2021-01-06","10"]},{"value":["2021-01-07"," 9"]},{"value":["2021-01-08"," 8"]},{"value":["2021-01-09"," 7"]},{"value":["2021-01-10"," 9"]},{"value":["2021-01-11","11"]},{"value":["2021-01-12","11"]},{"value":["2021-01-13","13"]},{"value":["2021-01-14","14"]},{"value":["2021-01-15"," 8"]},{"value":["2021-01-16"," 7"]},{"value":["2021-01-17"," 9"]},{"value":["2021-01-18","12"]},{"value":["2021-01-19","11"]},{"value":["2021-01-20","11"]},{"value":["2021-01-21"," 7"]},{"value":["2021-01-22"," 4"]},{"value":["2021-01-23"," 9"]},{"value":["2021-01-24"," 7"]},{"value":["2021-01-25","13"]},{"value":["2021-01-26"," 7"]},{"value":["2021-01-27","17"]},{"value":["2021-01-28"," 3"]},{"value":["2021-01-29","11"]},{"value":["2021-01-30","11"]},{"value":["2021-01-31","11"]},{"value":["2021-02-01","11"]},{"value":["2021-02-02","10"]},{"value":["2021-02-03","11"]},{"value":["2021-02-04","12"]},{"value":["2021-02-05","17"]},{"value":["2021-02-06","12"]},{"value":["2021-02-07","18"]},{"value":["2021-02-08","23"]},{"value":["2021-02-09","17"]},{"value":["2021-02-10","15"]},{"value":["2021-02-11","16"]},{"value":["2021-02-12","12"]},{"value":["2021-02-13","13"]},{"value":["2021-02-14"," 6"]},{"value":["2021-02-15","19"]},{"value":["2021-02-16","17"]},{"value":["2021-02-17","29"]},{"value":["2021-02-18","24"]},{"value":["2021-02-19","19"]},{"value":["2021-02-20","22"]},{"value":["2021-02-21","13"]},{"value":["2021-02-22","21"]},{"value":["2021-02-23"," 5"]},{"value":["2021-02-24","18"]},{"value":["2021-02-25","18"]},{"value":["2021-02-26","19"]},{"value":["2021-02-27","12"]},{"value":["2021-02-28","10"]},{"value":["2021-03-01","14"]},{"value":["2021-03-02","14"]},{"value":["2021-03-03"," 0"]},{"value":["2021-03-04"," 0"]},{"value":["2021-03-05"," 0"]},{"value":["2021-03-06"," 0"]}],"yAxisIndex":0,"xAxisIndex":0,"name":"r3dmol","type":"line","coordinateSystem":"cartesian2d","symbol":"circle","symbolSize":1,"smooth":true,"emphasis":{"focus":"series"},"markLine":{"symbolSize":0,"data":[{"type":"average","name":"AVG"}]}}],"tooltip":{"trigger":"axis"},"grid":[{"bottom":"10%","right":"5%","top":"20%"}],"title":[{"text":"Package Download Stats","subtext":"pagemap: 2312, r3dmol: 1632"}]},"dispose":true},"evals":[],"jsHooks":[]}</script>
